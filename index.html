<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body class="container">
    <article class="start">
        <h1 class="mt-5 text-center font-weight-bolder">철수 게임</h1>
        <button class="w-btn w-btn-indigo mt-5" type="button" onclick="start();">START</button>
        <img id="picture" class="rounded-circle mt-5" src="sampleimage.jpg" alt="">
    </article>
    <article class="question">
        <div class="progress mt-5" style="height: 1px">
            <div class="progress-bar bg-warning" role="progressbar" style="width: calc(100/8*1%)"></div>
          </div>
          <h2 id="title" class="text-center mt-5">문제</h2>
          <button id="A" type="good" class="w-btn w-btn-indigo mt-5" type="button">Primary</button>
          <button id="B" type="bad" class="w-btn w-btn-indigo mt-5" type="button">Primary</button>
        
    </article>
    <article class="result">
        <h1 id="happybirthday" class="text-center mt-5" >제목</h2>
        <h2 id="message" class="text-center mt-5">메시지</h2>
        <img id="img" class="rounded-circle mt-5" src="sampleimage.jpg" alt="">
    </article>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script>
        var num = 1;
        var q = {
            1: {"title":"철수는 평소에", "A":"향기 나", "B":"냄새 나"},
            2: {"title":"철수는 자주", "A":"주변을 밝게 해", "B":"주변에 폐 끼쳐"},
            3: {"title":"철수는 언제나", "A":"빛이 나", "B":"지랄발광해"},
            4: {"title":"철수는 늘", "A":"예뻐", "B":"세수도 안한 것 같아"},
            5: {"title":"철수는 여태껏", "A":"잘 해왔어", "B":"망했어"},
            6: {"title":"철수는 앞으로도", "A":"잘할 거야", "B":"조질 거야"},
            7: {"title":"철수는 계속", "A":"행복할 거야", "B":"넘어져서 무릎이 까질거야"},
            8: {"title":"철수는 항상", "A":"최고였어", "B":"별로였어"},
        }

        var result = {
            "good": {"title":"철수야 생일 축하해", "message":"철수 짱이다~~~", "img":"sampleimage.jpg"},
            "bad": {"title":"너 뭐야 다시 해", "message":"정답 틀렸어 돌아가! 제대로 안 맞추면 화냄", "img":"sampleupset.jpg"}
        }

        function start() {
            $('.start').hide(200,'swing');
            $('.question').show(200, 'swing');
            next();
        }

        var good = 0;
        $('#A').click(function(){
            good++;
            next();
        })

        $('#B').click(function(){
            next();
        })

        function next() {
            if (num == 9) {
                $('.question').hide();
                final();

            } else{
                $('.progress-bar').attr('style', 'width: calc(100/12*'+num+'%)');
                $('#title').html(q[num]["title"]);
                // $('#type').val(q[num]["type"]);
                $('#A').html(q[num]["A"]);
                $('#B').html(q[num]["B"]);
                num++;
            }
        }

        function final() {
            if (good == 8) {
                $('.result').show();
                $('#img').attr("src", result["good"]["img"]);
                $('#happybirthday').html(result["good"]["title"]);
                $('#message').html(result["good"]["message"]);
            } else{
                $('.result').show();
                $('#img').attr("src", result["bad"]["img"]);
                $('#happybirthday').html(result["bad"]["title"]);
                $('#message').html(result["bad"]["message"]);
            }
        }
    
    </script>
</body>
</html>